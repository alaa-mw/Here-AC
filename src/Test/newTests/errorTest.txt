import {Component, test} from '@angular/core'; // missing component , service

// تعريف الواجهة (Interface)
interface Product {
  name?: string;
  image?: string;
  desc: string;

  method(arg: number): void;
  handler: (event: string) => boolean;
}
interface Test {
  age?: string;
  desc: string;


}

// الخدمة (Service)
@Injectable({
  providedIn: 'root',
})
export class ProductService {
  private selectedProduct: Product | null = null;

  private products: Product[] = [
    {
      name: 'Product 1 Camera',
      desc: 'Capture moments with this amazing camera.',
      image: 'assets/images/camera.png',
    },
    {
      name: 'Product 2 Laptop',
      desc: 'High performance laptop for all your needs.',
      image: 'assets/images/laptop.png',
    },
    {
      name: 'Product 3 Wireless Headphones',
      desc: 'Experience premium sound quality wirelessly.',
      image: 'assets/images/Wireless_Headphones.png',
    },
  ];

  getProducts(): Product[] {
    return this.products;
  }

  getSelectedProduct(): Product | null {
    return this.selectedProduct;
  }

  selectProduct(product: Product): void {
    this.selectedProduct = product;
  }
}

// المكون (Component)
@Component({
  selector: 'app-root',
  standalone: true,
  imports: [CommonModule],
  template: `
    <div class="container">
      <div class="products-container">
        <div class="product-list">
          <h1>Product List</h1>
          <div
            class="product-item"
            *ngFor="let product of products"
            (click)="selectProduct(product)"
          >
            <h3>{{ product.name }}</h3>
            <img [src]="product.image" alt="Product Image" />
          </div>
        </div>
        <div calss="detailsSide">
          <h1>Product Details</h1>
          <div class="product-details">
            <div *ngIf="selectedProduct">
              <h2>{{ selectedProduct.name }}</h2>
              <p>{{ selectedProduct.desc }}</p>
              <img [src]="selectedProduct.image" alt="Product Image" />
            </div>
            <div *ngIf="!selectedProduct">
              <h2>Select a product to view its details</h2>
            </div>
          </div>
        </div>
      </div>
    </div>
  `,
})
export class AppComponent implements Product,Test{

  products: Product[] = [];
  selectedProduct: Product | null = null;
  userData: any =null ; // just any

  constructor(private productService: ProductService) {
    this.products = this.productService.getProducts();
  }

  selectProduct(product: Product): void {
    this.productService.selectProduct(product);
    this.selectedProduct = this.productService.getSelectedProduct();
  }



  load(){
       this.userName= this.userData.r; // run time error : Cannot read properties of undefined (reading 'name'),
    }

}
export class Oula implements Test{

x = 10 ;


}
